<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Event Promotion Website</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous" />
  <style>
    body {
      background-color: #000;
      color: white;
    }

    #section0 {
      background: url('./images/ogb.png') center center / contain no-repeat;
      min-height: 100vh;
    }

    .hero-text {
      padding: 2rem;
      border-radius: 10px;
      text-align: center;
    }

    .table-cell {
      border: 1px solid #fff;
      padding: 10px;
      margin: 5px;
      cursor: pointer;
      text-align: center;
    }

    .table-cell:hover {
      background-color: #222;
    }

    .social-icons a {
      margin: 0 10px;
      font-size: 1.5rem;
      color: white;
    }

    .promoimg {
      display: flex;
      justify-content: center;
      margin-top: -150px;
    }

    .promoimg img {
      max-width: 100%;
      width: 600px;
    }

    @media (min-width: 1200px) {
      .promoimg {
        justify-content: center;
        padding-left: 0;
      }
    }
    

    .custom-carousel {
      max-width: 600px;
      max-height: 500px;
      margin: 0 auto;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .custom-carousel img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      border-radius: 10px;
      transition: opacity 0.3s ease;
      opacity: 1;
    }

    .custom-carousel img.portrait {
      width: auto;
      height: 100%;
    }

    .custom-carousel img.landscape {
      width: 100%;
      height: auto;
    }

    #section3 {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      .social-icons {
        display: flex;
        gap: 1rem;
        justify-content: center;
      }

      
  </style>
</head>
<body>

  <!-- Hero Section -->
  <section id="section0">
    <div class="hero-text">
      <div></div>
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end" id="mainNav">
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="#section0">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="#section1">Events</a></li>
              <li class="nav-item"><a class="nav-link" href="#section2">Reservations</a></li>
              <li class="nav-item"><a class="nav-link" href="#section3">Socials</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </section>

  <!-- Event Image Promotion -->
  <section id="section1">
    <div class="promoimg">
      <img src="./images/img_4617.jpg" alt="Upcoming Event" class="img-fluid rounded" />
    </div>
  </section>

  <!-- Online Ticket Sales Section -->
  <section class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <form id="ticketForm">
          <div class="mb-3">
            <label for="ticketDate" class="form-label">Select Show Date</label>
            <input type="date" class="form-control" id="ticketDate" name="ticketDate" required min="2025-04-25" max="2025-12-02" />
            <small class="text-light">Available dates: April 25 or June 2, 2025</small>
          </div>
          <div class="mb-3">
            <label for="ticketQty" class="form-label">Number of Tickets</label>
            <input type="number" class="form-control" id="ticketQty" min="1" max="10" required />
          </div>
          <button type="submit" class="btn btn-primary w-100">Purchase Tickets</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Carousel Section -->
  <section id="gallery" class="carousel-section py-5">
    <div class="container">
      <div id="carouselExampleAutoplaying" class="carousel slide custom-carousel" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="./images/img_4754.jpeg" class="d-block w-100" alt="First slide" />
          </div>
          <div class="carousel-item">
            <img src="./images/img_4756.jpeg" class="d-block w-100" alt="Second slide" />
          </div>
          <div class="carousel-item">
            <img src="./images/img_4755.jpeg" class="d-block w-100" alt="Third slide" />
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </section>

  <!-- Table Reservation Section -->
  <section id="section2">
    <h2 class="text-center mb-4">Table Seating Chart</h2>
    <div class="text-center">
      <img src="./images/tablerental.png" alt="Seating Chart" usemap="#tablemap" class="img-fluid rounded" />
      <map name="tablemap">
        <area shape="rect" coords="20,40,60,80" href="javascript:void(0);" onclick="reserveTable(1)" alt="Table 1" />
        <area shape="rect" coords="20,90,60,130" href="javascript:void(0);" onclick="reserveTable(2)" alt="Table 2" />
        <area shape="rect" coords="20,140,60,180" href="javascript:void(0);" onclick="reserveTable(3)" alt="Table 3" />
        <area shape="rect" coords="700,30,740,70" href="javascript:void(0);" onclick="reserveTable(34)" alt="Table 34" />
      </map>
    </div>
  </section>
  
  <br />

  <!-- Social Media Links -->
  <section id="section3">
    <h2 class="mb-3">Follow Us</h2>
    <div class="social-icons">
      <a href="#" target="_blank"><i class="bi bi-facebook"></i></a>
      <a href="#" target="_blank"><i class="bi bi-instagram"></i></a>
      <a href="#" target="_blank"><i class="bi bi-tiktok"></i></a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="text-center py-3 border-top border-light">
    <p class="mb-0">&copy; 2025 OGBallent. All Rights Reserved.</p>
  </footer>

  <!-- Bootstrap and Stripe -->
  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Stripe JS -->
  <script src="https://js.stripe.com/v3/"></script>
  
  <!-- Bootstrap Icons CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  
  <script>
    // Initialize Stripe with your public key
    const stripe = Stripe("YOUR_STRIPE_PUBLISHABLE_KEY");
  
    // Reservation handler (by table number)
    function reserveTable(tableNumber) {
      fetch('/create-checkout-session-table', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ tableNumber })
      })
      .then(res => res.json())
      .then(session => stripe.redirectToCheckout({ sessionId: session.id }))
      .catch(error => console.error('Reservation error:', error));
    }
  
    // Ticket form submission handler
    document.addEventListener("DOMContentLoaded", function () {
      const ticketForm = document.getElementById("ticketForm");
      if (ticketForm) {
        ticketForm.addEventListener("submit", function (e) {
          e.preventDefault();
          const date = document.getElementById("ticketDate").value;
          const qty = document.getElementById("ticketQty").value;
  
          fetch('/create-checkout-session-tickets', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ date, qty })
          })
          .then(res => res.json())
          .then(session => stripe.redirectToCheckout({ sessionId: session.id }))
          .catch(error => console.error('Ticket purchase error:', error));
        });
      }
  
      // Auto-adjust image orientation in carousel
      const images = document.querySelectorAll('.custom-carousel img');
      images.forEach(img => {
        function applyOrientation() {
          if (img.naturalHeight > img.naturalWidth) {
            img.classList.add('portrait');
          } else {
            img.classList.add('landscape');
          }
        }
  
        if (img.complete) {
          applyOrientation();
        } else {
          img.addEventListener('load', applyOrientation);
        }
      });
    }); 
  </script>
  

  <!-- Bootstrap Icons CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</body>
</html>